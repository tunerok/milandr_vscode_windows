; generated by ARM C/C++ Compiler, 5.02 [Build 28]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\Debug\Exe\menu_leds.o --asm_dir=.\Debug\Lst\ --list_dir=.\Debug\Lst\ --depend=.\Debug\Exe\menu_leds.d --cpu=Cortex-M3 --apcs=interwork -O0 -I..\..\..\..\Libraries\CMSIS\CM3\CoreSupport -I..\..\..\..\Libraries\CMSIS\CM3\DeviceSupport\MDR32F9Qx\inc -I..\..\..\..\Libraries\CMSIS\CM3\DeviceSupport\MDR32F9Qx\startup\arm -I..\..\..\..\Libraries\MDR32F9Qx_StdPeriph_Driver\inc -I..\..\..\..\Libraries\MDR32F9Qx_StdPeriph_Driver\inc\USB_Library -I..\..\inc -I..\..\Config -IC:\Keil\ARM\RV31\INC -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\Inc\Milandr\MDR32F9x --omf_browse=.\Debug\Exe\menu_leds.crf ..\..\src\Menu_leds.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  LightsOnFunc PROC
;;;68     *******************************************************************************/
;;;69     void LightsOnFunc(void)
000000  b570              PUSH     {r4-r6,lr}
;;;70     {
;;;71       uint32_t tck, tck_led;
;;;72     #if defined (USE_MDR32F9Q2_Rev0) || defined (USE_MDR32F9Q2_Rev1) || \
;;;73         defined (USE_MDR32F9Q3_Rev0) || defined (USE_MDR32F9Q3_Rev1)
;;;74       uint32_t saveport;
;;;75     #endif
;;;76     
;;;77       /* Display hint on the screen and wait for key up */
;;;78       LCD_CLS();
000002  f7fffffe          BL       LCD_CLS
;;;79       CurrentMethod = MET_AND;
000006  2004              MOVS     r0,#4
000008  491a              LDR      r1,|L1.116|
00000a  7008              STRB     r0,[r1,#0]
;;;80       CurrentFont = &Font_6x8;
00000c  481a              LDR      r0,|L1.120|
00000e  491b              LDR      r1,|L1.124|
000010  6008              STR      r0,[r1,#0]  ; CurrentFont
;;;81       LCD_PUTS(0, 0,                       "   Press SEL      ");
000012  a21b              ADR      r2,|L1.128|
000014  2100              MOVS     r1,#0
000016  4608              MOV      r0,r1
000018  f7fffffe          BL       LCD_PUTS
;;;82       LCD_PUTS(0, CurrentFont->Height + 2, "   for return     ");
00001c  4817              LDR      r0,|L1.124|
00001e  6800              LDR      r0,[r0,#0]  ; CurrentFont
000020  7800              LDRB     r0,[r0,#0]
000022  1c80              ADDS     r0,r0,#2
000024  b2c1              UXTB     r1,r0
000026  a21b              ADR      r2,|L1.148|
000028  2000              MOVS     r0,#0
00002a  f7fffffe          BL       LCD_PUTS
;;;83       WAIT_UNTIL_KEY_RELEASED(SEL);
00002e  bf00              NOP      
                  |L1.48|
000030  f7fffffe          BL       GetKey
000034  2800              CMP      r0,#0
000036  d0fb              BEQ      |L1.48|
;;;84     
;;;85     #if defined (USE_MDR32F9Q2_Rev0) || defined (USE_MDR32F9Q2_Rev1) || \
;;;86         defined (USE_MDR32F9Q3_Rev0) || defined (USE_MDR32F9Q3_Rev1)
;;;87     
;;;88       /* Save LEDs_PORT port current state, because LEDs pins are also used
;;;89        * for LCD control */
;;;90       saveport = PORT_ReadInputData(LEDs_PORT);
;;;91     #endif
;;;92     
;;;93       /* All LEDs switch off */
;;;94       PORT_ResetBits(LEDs_PORT, LEDs_PINs);
000038  f44f41f8          MOV      r1,#0x7c00
00003c  481a              LDR      r0,|L1.168|
00003e  f7fffffe          BL       PORT_ResetBits
;;;95     
;;;96       /* Invoke "special effect" */
;;;97       CurrentLights = __SHLC(LED_PATTERN, LEDs_OFS);
000042  481a              LDR      r0,|L1.172|
000044  491a              LDR      r1,|L1.176|
000046  6008              STR      r0,[r1,#0]  ; CurrentLights
;;;98       for (tck = 0, tck_led = 0; !KEY_PRESSED(SEL); tck++)
000048  2400              MOVS     r4,#0
00004a  2500              MOVS     r5,#0
00004c  e007              B        |L1.94|
                  |L1.78|
;;;99       {
;;;100        if (tck == tck_led)
00004e  42ac              CMP      r4,r5
000050  d104              BNE      |L1.92|
;;;101        {
;;;102          tck_led += LED_DELAY;
000052  f64800b8          MOV      r0,#0x88b8
000056  4405              ADD      r5,r5,r0
;;;103          ShiftLights();
000058  f7fffffe          BL       ShiftLights
                  |L1.92|
00005c  1c64              ADDS     r4,r4,#1              ;98
                  |L1.94|
00005e  f7fffffe          BL       GetKey
000062  2800              CMP      r0,#0                 ;98
000064  d1f3              BNE      |L1.78|
;;;104        }
;;;105      }
;;;106      /* SEL is pressed - turn leds off and return to the menu */
;;;107      CurrentLights = 0x0;
000066  4912              LDR      r1,|L1.176|
000068  6008              STR      r0,[r1,#0]  ; CurrentLights
;;;108      ShiftLights();
00006a  f7fffffe          BL       ShiftLights
;;;109    
;;;110    #if defined (USE_MDR32F9Q2_Rev0) || defined (USE_MDR32F9Q2_Rev1) || \
;;;111        defined (USE_MDR32F9Q3_Rev0) || defined (USE_MDR32F9Q3_Rev1)
;;;112    
;;;113      /* Restore LEDs_PORT port state */
;;;114      PORT_Write(LEDs_PORT, saveport);
;;;115    #endif
;;;116    
;;;117      DisplayMenu();
00006e  f7fffffe          BL       DisplayMenu
;;;118    }
000072  bd70              POP      {r4-r6,pc}
;;;119    
                          ENDP

                  |L1.116|
                          DCD      CurrentMethod
                  |L1.120|
                          DCD      Font_6x8
                  |L1.124|
                          DCD      CurrentFont
                  |L1.128|
000080  20202050          DCB      "   Press SEL      ",0
000084  72657373
000088  2053454c
00008c  20202020
000090  202000  
000093  00                DCB      0
                  |L1.148|
000094  20202066          DCB      "   for return     ",0
000098  6f722072
00009c  65747572
0000a0  6e202020
0000a4  202000  
0000a7  00                DCB      0
                  |L1.168|
                          DCD      0x400c0000
                  |L1.172|
                          DCD      0xc14e03f7
                  |L1.176|
                          DCD      CurrentLights

;*** Start embedded assembler ***

#line 1 "..\\..\\src\\Menu_leds.c"
	AREA ||.rev16_text||, CODE, READONLY
	THUMB
	EXPORT |__asm___11_Menu_leds_c_5fb357ce____REV16|
#line 129 "..\\..\\..\\..\\Libraries\\CMSIS\\CM3\\CoreSupport\\core_cmInstr.h"
|__asm___11_Menu_leds_c_5fb357ce____REV16| PROC
#line 130

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE, READONLY
	THUMB
	EXPORT |__asm___11_Menu_leds_c_5fb357ce____REVSH|
#line 144
|__asm___11_Menu_leds_c_5fb357ce____REVSH| PROC
#line 145

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
